<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="HectorCorrea.com">
    <meta name="author" content="hector@hectorcorrea.com">

    <title>HectorCorrea.com</title>

    <link rel="shortcut icon" href="/public/favicon.ico" />
    <link rel="apple-touch-icon" href="/public/favicon.png"/>

    <!-- Styles from https://newcss.net/ -->
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.css">

    <link rel="me" href="https://mastodon.social/@hectorjcorrea" />
    <link rel="canonical" href="https://hectorcorrea.com" />

    <style>
      img {
        padding: 5px;
        box-shadow: 3px 3px 8px #222;
        margin-right: 10px;
        margin-bottom: 10px;
      }

      footer {
        background: var(--nc-bg-2);
        border-bottom: 1px solid var(--nc-bg-3);
        padding: 2rem 1.5rem;

        margin: -2rem calc(0px - (50vw - 50%)) 2rem;

        padding-left: calc(50vw - 50%);
        padding-right: calc(50vw - 50%);

        margin-top: -0px;
        margin-bottom: 0px;
        padding-top: 6px;
        padding-bottom: 6px;
        color: gray;
        font-size: x-small;
      }

      .header-link {
        /* Main body text, see new.css */
        color: var(--nc-tx-2);
        text-decoration: none;
      }

      .nav-link-selected {
        font-weight: bold;
      }

      .socialLogo {
        padding: 0px;
        box-shadow: none;
        margin-right: 0px;
        margin-bottom: 0px;
        width: 16px;
      }
    </style>
  </head>
  <body>
    <header>
      <h1><a class="header-link" href="/">Hector Correa</a></h1>
      <nav style="float:right;">
        <a id="about-menu" href="/about" role="button" class="btn btn-secondary btn-sm">About</a>
        / <a id="presentations-menu" href="/presentations" role="button" class="btn btn-secondary btn-sm">Presentations</a>
        / <a id="blog-menu" href="/blog" role="button" class="btn btn-secondary btn-sm">Blog</a>
      </nav>
    </header>

    <div class="container">
      <h1>Future Directions for C# and Visual Basic</h1>
<p>These are my notes from Anders Hejlsberg session on Future Directions for C# and Visual Basic.</p>

<p>It's been more than 10 years since managed code was introduced back in PDC 2000.  Every new release of C# has had one or two major themes:</p>

<ul>
<li>Version 1: Managed Code was introduced
<li>Version 2 2: Generics
<li>Version 3: LINQ
<li>Version 4: Dynamic features and language parity
</ul>

<p>The two major themes in the next release (version 5) are support for <b>WinRT</b>in Windows 8 and <b>asynchronous programming</b>.</p>

<p>Asynchronous Programming is becoming the norm in modern, connected applications.</p>

<p>About 10-15% of the WinRT API supports asynchronous operations. Sounds like a small percent but this percent is probably the most used stuff.</p>

<p>There are different asynchronous programming models in Windows 8 and .NET</p>

<ul>
<li>WinRT uses AsyncOperation&lt;T&gt;
<li>.NET uses Task&lt;T&gt;
<li>JavaScript uses Promises
</ul>

<p>All of these models are objects representing "ongoing operations".</p>

<p>Callbacks turn your code inside out and are a big challenge but they have figured out how to automatically handle this so that asynchronous</p>
<p>code "feel just like good old synchronous code". The general pattern is:</p>

<pre>
public async SomeMethodAsync()
{
  // code before firing async operation
  await code to execute async
  // code to execute after async operation has completed
}
</pre>

<p>Use <code>await</code> operator to cooperatively yield control.</p>

<p>You can use <code>Task.WhenAll()</code> to run multiple tasks asynchronous in parallel!</p>

<p>It turns out that asynchronous method don't start new threads! I need to do more reading on this. Threading is only need when you run CPU intensive operations like a loop to perform math calculations.</p>

<p>Anders showed some JavaScript in which he consumed some C# code from within C# but he couldn't just use Task as-is and he had to bridge</p>
<p>the two through <code>IAsynchOperation</code> (didn't quite get why)</p>

<p>Anders is obviously a big proponent of static languages and took several jabs at the dynamic nature of JavaScript. The funniest line was when he said:</p>

<blockquote>
“Sometimes you get lucky in JavaScript, you always get lucky in C#”<br/>
</blockquote>

<p>Another feature that is coming in C# is what is called Caller Info Attributes. These are built-in attributes that you can add to parameters to a method to</p>
<p>receive the name of the caller file path, the caller line number and member name.</p>

<ul>
<li>[CallerFilePath]
<li>[CallerLineNumber]
<li>[Caller/MemberName]
</ul>

<p>This is very nice for logging code.</p>

<h2>Roslyn Project</h2>

<p>Towards the end of the session Anders talked about what’s coming in C# 6.0 and a project named “The Roslyn project.” The basics of this project are:</p>

<ul>
<li>Reimagine what compilers do
<li>Compiler as a service
<li>Open the compiler, make its information available to others (formatters, highlighters, refactoring, DSL)
</ul>

<p>With feature the syntax tree produced by the C# compiler becomes available to other tools so that they can peek inside the code with a true semantic knowledge of what the code does.</p>

<p>Anders shows a C# interactive prompt in which he was able to create a C# program on the fly, line by line, and execute each line as it went. This is nothing new to people that use JavaScript or Ruby but for a static language like C# this is huge! I was really impress on how clean the syntax to do this was.</p>

<p>The following picture (blurry) shows an example of what he did. In this code he declares a square function in a string and executes is in the program via a delegate. Wicked stuff.</p>

<p><img src="https://hectorcorrea.com/images/buildwin2.jpg"" alt="Roslyn code" title="Roslyn code" /></p>

<p>Another example of using Roslyn that we showed was a feature to paste C# code as VB.NET code and vice-versa. This showed how the semantic of the original code was preserved.</p>

<p>There is a CTP available of Roslyn already.</p>

<p>The C# and VB.NET compilers are being rewritten in managed code.</p>

    </div>

    <footer>
      License <a rel="license" target="_blank" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
    </footer>

    <script type="text/javascript">
      // Redirect legacy blog URLs
      if (window.location.hash.startsWith("#/blog")) {
        window.location = window.location.toString().replace("#/blog/","blog/");
      }

      // Hande this redirect via JavaScript because GitHub pages does not let me
      // handle this via an HTML redirect due to the ".aspx" extension
      if (window.location.pathname === "/blog/The-Mythical-Man-Month.aspx") {
        window.location = "https://hectorcorrea.com/blog/2007-06-28/the-mythical-man-month";
      }

      // Highlight the current menu option
      var highlightMenu = function() {
        var activeOption = null;
        var url = window.location.pathname;
        if (url.startsWith("/blog/")) {
          activeOption = document.getElementById("blog-menu");
        } else if(url == "/about") {
          activeOption = document.getElementById("about-menu");
        } else if(url == "/presentations") {
          activeOption = document.getElementById("presentations-menu");
        }

        if (activeOption != null) {
          activeOption.classList.add("nav-link-selected");
        }
      }

      highlightMenu();
    </script>
  </body>
</html>
